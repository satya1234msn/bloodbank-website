<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Health Tracker - LifeSaver Blood Bank</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#dc2626',
            secondary: '#fef2f2',
          },
        }
      }
    }
  </script>
  <script defer src="js/common.js"></script>
</head>
<body class="relative bg-gradient-to-br from-red-50 via-white to-red-100 text-gray-800 font-sans min-h-screen">

  <!-- Soft pattern background layer -->
  <div class="absolute inset-0 opacity-10 bg-[url('https://www.toptal.com/designers/subtlepatterns/patterns/symphony.png')] bg-cover bg-fixed z-0"></div>
  <div class="relative z-10">

    <!-- Header -->
    <header class="bg-primary text-white shadow-lg sticky top-0 z-50">
      <div class="container mx-auto px-4 py-3 flex flex-col sm:flex-row justify-between items-center">
        <h1 class="text-2xl font-bold">LifeSaver Blood Bank</h1>
        <nav class="mt-2 sm:mt-0">
          <ul class="flex flex-wrap gap-4 text-sm font-medium">
            <li><a href="index.html" class="hover:text-gray-200">Home</a></li>
            <li><a href="donate.html" class="hover:text-gray-200">Donate</a></li>
            <li><a href="request.html" class="hover:text-gray-200">Request</a></li>
            <li><a href="volunteer.html" class="hover:text-gray-200">Volunteer</a></li>
            <li><a href="track.html" class="hover:text-gray-200">Track Donors</a></li>
            <li><a href="health.html" class="hover:text-gray-200">Health Tracker</a></li>
            <li><a href="stories.html" class="hover:text-gray-200">Success Stories</a></li>
            <li><a href="signin.html" id="signinLink" class="hover:text-gray-200">Sign In</a></li>
            <li><a href="profile.html" id="profileLink" class="hover:text-gray-200">My Profile</a></li>
          </ul>
        </nav>
      </div>
    </header>

    <!-- Main Content -->
    <main class="py-12 px-4">
      <section class="max-w-4xl mx-auto bg-white p-10 rounded-2xl shadow-xl border border-primary backdrop-blur-sm bg-opacity-90">
        <h2 class="text-3xl font-bold text-primary mb-4">Track Your Health Data</h2>
        <p class="text-gray-700 mb-6">Monitor your health regularly to ensure you are eligible to donate blood. Keep track of key metrics like blood pressure, heart rate, and more. These metrics help determine your overall health and readiness to donate blood.</p>

        <section class="mb-8">
          <h3 class="text-2xl font-semibold text-primary mb-4">Why Tracking Your Health Matters</h3>
          <p class="text-gray-700">Maintaining a healthy lifestyle is crucial, especially if you're a regular blood donor. Below are some key factors that can impact your eligibility to donate blood:</p>
          <ul class="list-disc pl-6 mt-4 text-gray-700">
            <li><strong>Blood Pressure:</strong> It's important to have normal blood pressure to avoid complications during donation.</li>
            <li><strong>Heart Rate:</strong> A normal heart rate ensures your cardiovascular system is functioning well.</li>
            <li><strong>Weight:</strong> Maintaining a healthy weight helps with overall blood circulation and well-being.</li>
            <li><strong>Body Temperature:</strong> A normal body temperature shows you're not experiencing fever or infection.</li>
            <li><strong>Blood Sugar:</strong> Keep it in check to avoid complications during or after donation.</li>
          </ul>
        </section>

        <!-- Health Form -->
        <form id="healthForm" class="space-y-6">
          <div>
            <label for="bloodPressure" class="block font-medium">Blood Pressure:</label>
            <input type="text" id="bloodPressure" name="bloodPressure" placeholder="e.g., 120/80" required class="w-full p-2 border rounded-md focus:ring-2 focus:ring-primary focus:outline-none" />
          </div>
          <div>
            <label for="heartRate" class="block font-medium">Heart Rate (bpm):</label>
            <input type="number" id="heartRate" name="heartRate" required class="w-full p-2 border rounded-md focus:ring-2 focus:ring-primary focus:outline-none" />
          </div>
          <div>
            <label for="weight" class="block font-medium">Weight (kg):</label>
            <input type="number" id="weight" name="weight" required class="w-full p-2 border rounded-md focus:ring-2 focus:ring-primary focus:outline-none" />
          </div>
          <div>
            <label for="temperature" class="block font-medium">Body Temperature (°C):</label>
            <input type="number" id="temperature" name="temperature" step="0.1" required class="w-full p-2 border rounded-md focus:ring-2 focus:ring-primary focus:outline-none" />
          </div>
          <div>
            <label for="bloodSugar" class="block font-medium">Blood Sugar Level (mg/dL):</label>
            <input type="number" id="bloodSugar" name="bloodSugar" required class="w-full p-2 border rounded-md focus:ring-2 focus:ring-primary focus:outline-none" />
          </div>
          <button type="submit" class="w-full bg-primary hover:bg-red-700 text-white font-semibold py-3 rounded-lg transition">Submit Health Data</button>
        </form>

        <!-- Health Results -->
        <div id="healthResults" class="mt-10">
          <h3 class="text-xl font-bold text-primary mb-4">Your Health History:</h3>
          <ul>
            <li class="bg-white p-4 rounded-lg shadow-md mb-4 border border-gray-100">Date: 2025-04-20 - Blood Pressure: 120/80 - Heart Rate: 72 bpm</li>
            <li class="bg-white p-4 rounded-lg shadow-md mb-4 border border-gray-100">Date: 2025-04-18 - Blood Pressure: 118/76 - Heart Rate: 70 bpm</li>
          </ul>
        </div>
      </section>

      <!-- Tips -->
      <section class="mt-12 max-w-4xl mx-auto bg-white p-10 rounded-2xl shadow-xl border border-primary backdrop-blur-sm bg-opacity-90">
        <h3 class="text-2xl font-semibold text-primary mb-4">Healthy Living Tips for Blood Donors</h3>
        <ul class="list-disc pl-6 text-gray-700 space-y-2">
          <li><strong>Stay hydrated:</strong> Drink water before donation to make veins easier to locate.</li>
          <li><strong>Eat a healthy meal:</strong> A nutritious meal keeps your blood sugar stable.</li>
          <li><strong>Get enough rest:</strong> Being well-rested helps prevent fatigue post-donation.</li>
          <li><strong>Avoid alcohol:</strong> It dehydrates you and may affect donation eligibility.</li>
        </ul>
      </section>

      <!-- Alerts -->
      <section class="mt-12 max-w-4xl mx-auto bg-white p-10 rounded-2xl shadow-xl border border-primary backdrop-blur-sm bg-opacity-90">
        <h3 class="text-2xl font-bold text-primary mb-4">Subscribe to Blood Donation Alerts</h3>
        <form action="subscribe-alerts.php" method="POST" class="space-y-4">
          <div>
            <label for="alertEmail" class="block font-medium">Enter your email:</label>
            <input type="email" id="alertEmail" name="alertEmail" placeholder="Enter your email address" required class="w-full p-2 border rounded-md focus:ring-2 focus:ring-primary focus:outline-none" />
          </div>
          <button type="submit" class="w-full bg-primary hover:bg-red-700 text-white font-semibold py-3 rounded-lg transition">Subscribe</button>
        </form>
      </section>
    </main>

    <!-- Footer -->
    <footer class="bg-secondary text-red-800 text-center py-6 text-sm border-t border-red-200">
      <p>&copy; 2025 LifeSaver Blood Bank. All rights reserved.</p>
    </footer>
  </div>

  <script>
    document.getElementById('healthForm').addEventListener('submit', async function(e) {
      e.preventDefault();

      const data = {
        bloodPressure: document.getElementById('bloodPressure').value,
        heartRate: document.getElementById('heartRate').value,
        weight: document.getElementById('weight').value,
        temperature: document.getElementById('temperature').value,
        bloodSugar: document.getElementById('bloodSugar').value
      };

      const res = await fetch('http://localhost:5000/api/health', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(data)
      });

      const result = await res.json();
      alert(res.ok ? '✅ Health data submitted!' : '❌ Error: ' + result.message);
      if (res.ok) this.reset();
    });
  </script>

</body>
</html>
